# Custom Keymaps

Leader キー: `<Space>`

## ESC 代替

| キー | 動作                                                                      |
| ---- | ------------------------------------------------------------------------- |
| `jk` | ESC（インサート/コマンドライン/ビジュアル/セレクト/オペレータ待機モード） |

## インサートモード

| キー         | 動作                   |
| ------------ | ---------------------- |
| `<C-g><C-u>` | 単語を大文字に変換     |
| `<C-g><C-l>` | 単語を小文字に変換     |
| `<C-g><C-k>` | 前の文字を大文字に変換 |

## ノーマルモード

### 検索

| キー         | 動作                                |
| ------------ | ----------------------------------- |
| `/`          | very magic 検索（正規表現が簡潔に） |
| `?`          | リテラル検索（very nomagic）        |
| `<leader>nh` | 検索ハイライトをクリア              |

### 削除（レジスタを汚さない）

| キー        | 動作                                      |
| ----------- | ----------------------------------------- |
| `x`         | 削除オペレータ（`"_d` 相当）              |
| `X`         | 行末まで削除（`"_D` 相当）                |
| `xx`        | 1行削除                                   |
| `x{motion}` | モーションで削除（例: `x3w` で3単語削除） |

### Undo / Redo（undo-glow）

| キー | 動作                   |
| ---- | ---------------------- |
| `u`  | Undo（ハイライト付き） |
| `U`  | Redo（ハイライト付き） |

### ペースト（undo-glow）

| キー | 動作                                       |
| ---- | ------------------------------------------ |
| `p`  | 下にペースト（ハイライト付き、末尾へ移動） |
| `P`  | 上にペースト（ハイライト付き、末尾へ移動） |

### 行の移動

| キー    | 動作         |
| ------- | ------------ |
| `<C-k>` | 行を上に移動 |
| `<C-j>` | 行を下に移動 |

### 行の複製

| キー        | 動作         |
| ----------- | ------------ |
| `<leader>g` | 行を下に複製 |
| `<leader>G` | 行を上に複製 |

### 空行での自動インデント

| キー | 動作                                             |
| ---- | ------------------------------------------------ |
| `i`  | 空行なら自動インデント、そうでなければ通常の `i` |
| `A`  | 空行なら自動インデント、そうでなければ通常の `A` |

### 数値操作

| キー        | 動作                 |
| ----------- | -------------------- |
| `<leader>+` | 数値をインクリメント |
| `<leader>-` | 数値をデクリメント   |

### 括弧ジャンプ（vim-matchup）

| キー | 動作                              |
| ---- | --------------------------------- |
| `M`  | 対応する括弧/キーワードにジャンプ |

`if`/`else`/`endif` などのキーワード間もジャンプ可能。カーソル下の単語が `end` を含む場合は `%`、そうでなければ `g%` で端から端へ直接ジャンプ。

### マクロ（q プレフィックス）

| キー          | 動作                               |
| ------------- | ---------------------------------- |
| `qq`          | マクロ記録開始（q レジスタ）       |
| `q`（記録中） | マクロ記録終了                     |
| `Q`           | マクロ再生（`@q`）                 |
| `qo`          | 他のウィンドウを閉じる（`:only!`） |
| `qt`          | 前のバッファに切り替え（`<C-^>`）  |

### ウィンドウ操作

| キー         | 動作                     |
| ------------ | ------------------------ |
| `<leader>sv` | ウィンドウを縦分割       |
| `<leader>sh` | ウィンドウを横分割       |
| `<leader>se` | ウィンドウサイズを均等に |
| `<leader>sx` | 現在のウィンドウを閉じる |

### タブ操作

| キー         | 動作                             |
| ------------ | -------------------------------- |
| `<leader>to` | 新しいタブを開く                 |
| `<leader>tx` | 現在のタブを閉じる               |
| `<leader>tn` | 次のタブへ                       |
| `<leader>tp` | 前のタブへ                       |
| `<leader>tf` | 現在のバッファを新しいタブで開く |

## ビジュアルモード

| キー        | 動作                                 |
| ----------- | ------------------------------------ |
| `x`         | 選択範囲を削除（レジスタを汚さない） |
| `p`         | ペースト（レジスタを維持）           |
| `<`         | インデントを減らして再選択           |
| `>`         | インデントを増やして再選択           |
| `<C-k>`     | 選択行を上に移動                     |
| `<C-j>`     | 選択行を下に移動                     |
| `<leader>g` | 選択行を下に複製                     |
| `<leader>G` | 選択行を上に複製                     |

## テキストオブジェクト

| キー                   | 動作                                     |
| ---------------------- | ---------------------------------------- |
| `i<Space>`             | WORD 内部（`iW` 相当）                   |
| `a"` / `a'` / `` a` `` | クォート内部（`2i"` 相当、クォート含む） |

## undo-glow ハイライト色（Catppuccin Frappe）

| 操作   | 色                 |
| ------ | ------------------ |
| undo   | red (`#e78284`)    |
| redo   | green (`#a6d189`)  |
| yank   | yellow (`#e5c890`) |
| paste  | blue (`#8caaee`)   |
| search | mauve (`#ca9ee6`)  |
