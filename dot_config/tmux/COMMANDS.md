# tmux コマンドリファレンス

## 基本情報

- **Prefixキー**: `Ctrl + s` (デフォルトの`Ctrl + b`から変更済み)
- **テーマ**: Catppuccin Frappe
- **ステータスバー**: 画面上部

---

## 基本コマンド

| キー         | 説明                   |
| ------------ | ---------------------- |
| `Prefix + r` | 設定ファイルをリロード |

---

## セッション操作

| キー              | 説明                             |
| ----------------- | -------------------------------- |
| `Prefix + d`      | セッションをデタッチ             |
| `Prefix + s`      | セッション一覧を表示・切り替え   |
| `Prefix + $`      | セッション名を変更               |
| `Prefix + (`      | 前のセッションに切り替え         |
| `Prefix + )`      | 次のセッションに切り替え         |
| `Prefix + L`      | 最後に使用したセッションに切り替え |

### コマンドラインから

```bash
tmux new -s <name>       # 新しいセッションを作成
tmux ls                  # セッション一覧
tmux a -t <name>         # セッションにアタッチ
tmux kill-session -t <name>  # セッションを削除
```

---

## ウィンドウ操作

| キー           | 説明                           |
| -------------- | ------------------------------ |
| `Prefix + c`   | 新しいウィンドウを作成         |
| `Prefix + ,`   | ウィンドウ名を変更             |
| `Prefix + w`   | ウィンドウ一覧を表示・切り替え |
| `Prefix + n`   | 次のウィンドウに移動           |
| `Prefix + p`   | 前のウィンドウに移動           |
| `Prefix + 0-9` | 番号でウィンドウを選択         |
| `Prefix + &`   | ウィンドウを閉じる（確認あり） |
| `Prefix + f`   | ウィンドウを検索               |
| `Prefix + .`   | ウィンドウの番号を変更         |

---

## ペイン操作

| キー              | 説明                                     |
| ----------------- | ---------------------------------------- |
| `Prefix + z`      | ペインを最大化/元に戻す（ズームトグル）  |
| `Prefix + x`      | ペインを閉じる（確認あり）               |
| `Prefix + !`      | ペインを新しいウィンドウに分離           |
| `Prefix + q`      | ペイン番号を表示（番号を押すと移動）     |
| `Prefix + o`      | 次のペインに移動                         |
| `Prefix + ;`      | 最後に使用したペインに移動               |
| `Prefix + {`      | ペインを前の位置に入れ替え               |
| `Prefix + }`      | ペインを次の位置に入れ替え               |
| `Prefix + Space`  | ペインのレイアウトを切り替え             |

---

## コピーモード (vi キーバインド)

| キー           | 説明                                         |
| -------------- | -------------------------------------------- |
| `Prefix + [`   | コピーモード開始                             |
| `v`            | 選択開始                                     |
| `Ctrl + v`     | 矩形選択モードをトグル                       |
| `y`            | 選択範囲をクリップボードにコピーして終了     |
| `Escape`       | コピーモード終了（キャンセル）               |
| `q`            | コピーモード終了                             |
| マウスドラッグ | ドラッグ終了時に自動でクリップボードにコピー |

---

## Vim Tmux Navigator

`Ctrl + w`をプレフィックスとして、VimとTmux間でシームレスにペイン移動できます。

| キー                    | 説明                                                |
| ----------------------- | --------------------------------------------------- |
| `Ctrl + w` → `h`        | 左のペインへ移動 (Vim内の場合はVimのウィンドウ移動) |
| `Ctrl + w` → `j`        | 下のペインへ移動                                    |
| `Ctrl + w` → `k`        | 上のペインへ移動                                    |
| `Ctrl + w` → `l`        | 右のペインへ移動                                    |
| `Ctrl + w` → `H`        | Vimにそのまま`C-w H`を送信                          |
| `Ctrl + w` → `J`        | Vimにそのまま`C-w J`を送信                          |
| `Ctrl + w` → `K`        | Vimにそのまま`C-w K`を送信                          |
| `Ctrl + w` → `L`        | Vimにそのまま`C-w L`を送信                          |
| `Ctrl + w` → `=`        | Vimにそのまま`C-w =`を送信                          |
| `Ctrl + w` → `Ctrl + w` | 純粋な`Ctrl + w`を送信                              |

### コピーモード中のペイン移動

| キー       | 説明         |
| ---------- | ------------ |
| `Ctrl + h` | 左のペインへ |
| `Ctrl + j` | 下のペインへ |
| `Ctrl + k` | 上のペインへ |
| `Ctrl + l` | 右のペインへ |

---

## プラグイン

### 1. TPM (Tmux Plugin Manager)

プラグインの管理を行います。

| キー               | 説明                     |
| ------------------ | ------------------------ |
| `Prefix + I`       | プラグインをインストール |
| `Prefix + U`       | プラグインを更新         |
| `Prefix + Alt + u` | 未使用プラグインを削除   |

---

### 2. tmux-yank

システムクリップボードへのコピー機能を提供します。

**設定**:

- `@yank_selection 'clipboard'`: `y`でコピー時、システムクリップボードに入る
- `@yank_selection_mouse 'clipboard'`: マウス選択時もシステムクリップボードに入る

| キー               | 説明                                         |
| ------------------ | -------------------------------------------- |
| `Prefix + y`       | コマンドラインをクリップボードにコピー       |
| `Prefix + Y`       | カレントディレクトリをクリップボードにコピー |
| (コピーモード) `y` | 選択範囲をクリップボードにコピー             |
| (コピーモード) `Y` | 選択範囲をコマンドラインに貼り付け           |

---

### 3. tmux-open

コピーモードで選択したテキストをブラウザやエディタで開けます。

| キー                       | 説明                                         |
| -------------------------- | -------------------------------------------- |
| (コピーモード) `o`         | 選択したURL/ファイルをデフォルトアプリで開く |
| (コピーモード) `Ctrl + o`  | 選択したファイルを`$EDITOR`で開く            |
| (コピーモード) `Shift + s` | 選択したテキストをGoogle検索                 |

---

### 4. tmux-resurrect

セッションの保存と復元を行います。

| キー                | 説明             |
| ------------------- | ---------------- |
| `Prefix + Ctrl + s` | セッションを保存 |
| `Prefix + Ctrl + r` | セッションを復元 |

**設定**: ペインの内容も保存されます (`@resurrect-capture-pane-contents 'on'`)

---

### 5. tmux-continuum

tmux-resurrectを自動化し、定期的にセッションを保存します。

- **自動復元**: 有効 (`@continuum-restore 'on'`)
- **自動起動**: 無効 (Ghostty未対応のため)
- **保存間隔**: デフォルト15分

---

### 6. tmux-pain-control

ペインの分割とリサイズを直感的に行えます。

#### ペイン分割

| キー          | 説明                          |
| ------------- | ----------------------------- |
| `Prefix + \|` | 縦に分割 (現在のパスを維持)   |
| `Prefix + -`  | 横に分割 (現在のパスを維持)   |
| `Prefix + \`  | 縦に分割 (フルウィンドウ幅)   |
| `Prefix + _`  | 横に分割 (フルウィンドウ高さ) |

#### ペイン移動

| キー         | 説明         |
| ------------ | ------------ |
| `Prefix + h` | 左のペインへ |
| `Prefix + j` | 下のペインへ |
| `Prefix + k` | 上のペインへ |
| `Prefix + l` | 右のペインへ |

#### ペインリサイズ

| キー         | 説明     |
| ------------ | -------- |
| `Prefix + H` | 左に拡大 |
| `Prefix + J` | 下に拡大 |
| `Prefix + K` | 上に拡大 |
| `Prefix + L` | 右に拡大 |

---

## その他の設定

| 項目                   | 値                      |
| ---------------------- | ----------------------- |
| マウス操作             | 有効                    |
| ステータスバー更新間隔 | 5秒                     |
| エスケープ遅延         | 1ms                     |
| ターミナル             | tmux-256color (RGB対応) |

---

## パススルー

| キー         | 説明               |
| ------------ | ------------------ |
| `Prefix + m` | `Ctrl + t m`を送信 |
